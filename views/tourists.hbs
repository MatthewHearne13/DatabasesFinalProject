{{!--
/*
    # Citation for the following function:
    # Date: 8/12/2023
    # Copied from and adapted from the node.js starter code:
    # Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app
*/
--}}

{{!-- Create a table --}}
<main>
<h2>Tourists</h2>
<table id="tourist-table">
    {{!-- Header section --}}
    <thead>
        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr>
            <th>Tourist ID</th>
            <th>First Name</th>
            <th>Middle Name</th>
            <th>Last Name</th>
            <th>Number of Tours Attended</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Delete</th>
        </tr>
    </thead>

    {{!-- Body section --}}
    <tbody>

        {{!-- For each row, print the id, fname, lname, homeworld and age, in order --}}
        {{#each data}}
        <tr data-value={{this.idTourist}}>
            <td>{{this.idTourist}}</td>
            <td>{{this.firstName}}</td>
            <td>{{this.middleName}}</td>
            <td>{{this.lastName}}</td>
            <td>{{this.toursAttended}}</td>
            <td>{{this.email}}</td>
            <td>{{this.phoneNumber}}</td>
            <td><button onclick="deleteTourist({{this.idTourist}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>
<script src="./js/delete_tourist.js"></script>



{{!-- Form to add a record to the table  --}}
<h2>Adding a Tourist</h2>
<p>To add a new tourist, please enter the information below and click 'Submit'!</p>
<form id="add-tourist-form-ajax">
    <fieldset>
    <label for="input-firstName">First Name: </label>
    <input type="text" name="input-firstName" id="input-firstName">

    <label for="input-middleName">Middle Name: </label>
    <input type="text" name="input-middleName" id="input-middleName">
    
    <label for="input-lastName">Last Name: </label>
    <input type="text" name="input-lastName" id="input-lastName">
<br>
    <label for="input-toursAttended">Number of Tours Attended: </label>
    <input type="number" name="input-toursAttended" id="input-toursAttended">
<br>
    <label for="input-email">Email: </label>
    <input type="email" name="input-email" id="input-email">

    <label for="input-phoneNumber">Phone Number: </label>
    <input type="text" name="input-phoneNumber" id="input-phoneNumber">
<br>
    <input type="submit" class="submitFormButton">
    </fieldset>
</form>
<script src="./js/add_tourist.js"></script>

<h2>Update a Tourist</h2>
<p>To update a specific tourist, select their name from the drop-down menu and edit the information as needed!</p>
<form id="update-tourist-form-ajax">
    <fieldset>
    <label for="input-fullname">Full Name:</label>
    <select name="input-fullname" id="dropdownTouristNameSelect" onchange="autoFillTourist({{event}})">
        <option value="test">Select a tourist</option>
        {{#each data}}
        <option value="{{this.idTourist}}">{{this.firstName}} {{this.middleName}} {{this.lastName}}</option>
        {{/each}}
    </select>
<br>
    <label for="input-toursAttended-update">Number of Tours Attended:</label>
    <input type="number" name="input-toursAttended-update" id="input-toursAttended-update">
<br>
    <label for="input-email-update">Email:</label>
    <input type="email" name="input-email-update" id="input-email-update">

    <label for="input-phoneNumber-update">Phone Number:</label>
    <input type="text" name="input-phoneNumber-update" id="input-phoneNumber-update">
<br>
    <input type="submit" class="submitFormButton">
    </fieldset>
</form>
<script src="./js/update_tourist.js"></script>
</main>